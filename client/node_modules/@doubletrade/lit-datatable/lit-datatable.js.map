{"version":3,"file":"lit-datatable.js","sourceRoot":"","sources":["lit-datatable.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  LitElement, css, html, PropertyValues, render\n} from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport { deepEqual } from 'fast-equals';\n\nimport type { LitDatatableColumn } from './lit-datatable-column';\n\nexport interface Conf {\n  header: string;\n  property: string;\n  hidden?: boolean;\n}\n\ninterface EventOfTr {\n  type: string;\n  event: (item: any) => void;\n}\n\ninterface TableElement {\n  element: HTMLTableRowElement;\n  columns: Array<HTMLTableCellElement>;\n  events: Array<EventOfTr>;\n}\n\n@customElement('lit-datatable')\nexport class LitDatatable extends LitElement {\n  @property({ type: Array }) data: Array<unknown> = [];\n\n  @property({ type: Array }) conf: Array<Conf> = [];\n\n  @property({ type: Array }) table: Array<TableElement> = [];\n\n  @property({ type: String }) sort = '';\n\n  @property({ type: Array }) headers: Array<HTMLTableHeaderCellElement> = [];\n\n  @property({ type: Boolean, attribute: 'sticky-header' }) stickyHeader = false;\n\n  @property({ type: Object }) datatableColumns: Map<string, LitDatatableColumn> = new Map();\n\n  @property({ type: Object }) datatableHeaders: Map<string, LitDatatableColumn> = new Map();\n\n  @property({ type: Number }) lastConfSize = 0;\n\n  @property({ type: Number }) lastDataSize = 0;\n\n  /**\n    * The property's name that is a unique key for each element in \"data\"\n    * (e.g. \"productId\" or \"id\")\n    *\n   */\n  @property({ type: String }) key?:string;\n\n  debounceGenerate = 0;\n\n  static get styles() {\n    const mainStyle = css`\n      :host {\n        display: block;\n      }\n\n      slot {\n        display: none;\n      }\n\n      table {\n        width: 100%;\n        border-spacing: 0px;\n        border-collapse: seperate;\n      }\n\n      th {\n        background: var(--lit-datatable-th-background, white);\n        color: var(--lit-datatable-th-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n        text-align: left;\n        white-space: nowrap;\n\n        font-weight: var(--lit-datatable-api-header-weight, 500);\n        font-size: var(--lit-datatable-api-header-font-size, 12px);\n        padding: var(--lit-datatable-api-header-padding, 6px 26px);\n\n        border-bottom: 1px solid;\n        border-color: var(--lit-datatable-divider-color, rgba(0, 0, 0, var(--dark-divider-opacity)))\n      }\n\n      th.sticky {\n        position: sticky;\n        background: var(--lit-datatable-th-background, white);\n        top: 0;\n        z-index: 1;\n      }\n\n      tbody td {\n        height: var(--lit-datatable-api-body-td-height, 43px);\n      }\n\n      tbody tr {\n        height: var(--lit-datatable-api-body-tr-height, 43px);\n      }\n\n      thead tr {\n        height: var(--lit-datatable-api-header-tr-height, 43px);\n      }\n\n      thead th {\n        height: var(--lit-datatable-api-header-th-height, 43px);\n      }\n\n      tbody tr:nth-child(even) {\n        background-color: var(--lit-datatable-api-tr-even-background-color, none);\n      }\n\n      tbody tr:nth-child(odd) {\n        background-color: var(--lit-datatable-api-tr-odd-background-color, none);\n      }\n\n      tbody tr:hover {\n        background: var(--lit-datatable-api-tr-hover-background-color, none);\n      }\n\n      tbody tr.is-currently-highlight {\n        background: var(--lit-datatable-api-tr-highlight-background-color, none);\n      }\n\n      tbody tr.selected {\n        background-color: var(--lit-datatable-api-tr-selected-background, var(--paper-grey-100));\n      }\n\n      td {\n        font-size: var(--lit-datatable-td-font-size, 13px);\n        font-weight: normal;\n        color: var(--lit-datatable-td-color, rgba(0, 0, 0, var(--dark-primary-opacity)));\n        padding: var(--lit-datatable-api-td-padding, 6px var(--lit-datatable-api-horizontal-padding, 26px));\n        cursor: var(--lit-datatable-api-td-cursor, inherit);\n        height: 36px;\n      }\n\n      tbody tr:not(:first-child) td {\n        border-top: var(--lit-datatable-api-td-border-top, 1px solid);\n        border-color: var(--lit-datatable-divider-color, rgba(0, 0, 0, var(--dark-divider-opacity)))\n      }\n      `;\n\n    return [mainStyle];\n  }\n\n  render() {\n    return html`\n      <slot></slot>\n      <table id=\"table\">\n        <thead></thead>\n        <tbody></tbody>\n      </table>\n    `;\n  }\n\n  updated(properties: PropertyValues<{ data: Array<unknown>; conf: Array<Conf>; sort: string, stickyHeader: boolean }>) {\n    // Data or conf change we have to generate the table\n    if ((properties.has('data') && !deepEqual(properties.get('data'), this.data))\n      || (properties.has('conf') && !deepEqual(properties.get('conf'), this.conf))) {\n      this.deleteAllEvents();\n      this.generateData();\n    }\n\n    if (properties.has('conf') || properties.has('stickyHeader')) {\n      const confs = [...this.conf].filter((c) => !c.hidden);\n      this.updateHeaders(confs);\n    }\n\n    if (properties.has('sort')) {\n      this.updateSortHeaders();\n    }\n  }\n\n  updateSortHeaders() {\n    if (this.sort !== undefined && this.sort !== null) {\n      this.datatableHeaders.forEach((d) => { d.sort = this.sort; });\n    }\n  }\n\n  firstUpdated() {\n    if (this.shadowRoot) {\n      const slot = this.shadowRoot.querySelector('slot');\n      if (slot) {\n        const assignedNodes = slot.assignedNodes() as Array<LitDatatableColumn>;\n        this.datatableColumns = new Map(assignedNodes\n          .filter((a) => a.tagName === 'LIT-DATATABLE-COLUMN' && a.column)\n          .map((a) => [a.property, a]));\n        this.datatableHeaders = new Map(assignedNodes\n          .filter((a) => a.tagName === 'LIT-DATATABLE-COLUMN' && a.header)\n          .map((a) => [a.property, a]));\n      }\n    }\n  }\n\n  deleteAllEvents() {\n    this.datatableColumns.forEach((datatableColumn) => {\n      datatableColumn.eventsForDom.forEach((renderer) => {\n        datatableColumn.removeEventListener('html-changed', renderer);\n      });\n    });\n  }\n\n  renderCell(item: any, td: HTMLTableCellElement, confProperty: string, event?: Event, litDatatableColumn?: LitDatatableColumn) {\n    if (event) {\n      litDatatableColumn = event.currentTarget as LitDatatableColumn;\n    }\n    if (litDatatableColumn) {\n      const otherProperties = this.getOtherValues(litDatatableColumn, item);\n      if (litDatatableColumn?.html) {\n        render(litDatatableColumn.html(\n          this.extractData(item, litDatatableColumn.property), otherProperties\n        ), td);\n      } else if (litDatatableColumn) {\n        render(this.extractData(item, litDatatableColumn.property), td);\n      }\n    } else if (confProperty) {\n      render(this.extractData(item, confProperty), td);\n    }\n  }\n\n  setEventListener(datatableColumn: LitDatatableColumn, lineIndex: number, renderer: EventListener) {\n    if (datatableColumn) {\n      if (datatableColumn.eventsForDom[lineIndex]) {\n        datatableColumn.removeEventListener('html-changed', datatableColumn.eventsForDom[lineIndex]);\n      }\n      datatableColumn.eventsForDom[lineIndex] = renderer;\n      datatableColumn.addEventListener('html-changed', datatableColumn.eventsForDom[lineIndex]);\n    }\n  }\n\n  getOtherValues(datatableColumn: LitDatatableColumn, item: any) {\n    let otherProperties = {};\n    if (datatableColumn && datatableColumn.otherProperties) {\n      otherProperties = datatableColumn.otherProperties.reduce((obj: any, key: string) => {\n        obj[key] = item[key];\n        return obj;\n      }, {});\n    }\n    return otherProperties;\n  }\n\n  renderHtml(conf: Conf, lineIndex: number, item: any, td: HTMLTableCellElement, tr: HTMLTableRowElement) {\n    const p = conf.property;\n    const datatableColumn = this.datatableColumns.get(p);\n    if (datatableColumn) {\n      this.setEventListener(datatableColumn, lineIndex, this.renderCell.bind(this, item, td, p));\n    }\n    this.renderCell(item, td, p, undefined, datatableColumn);\n    tr.appendChild(td);\n  }\n\n  cleanEventsOfTr(item: any) {\n    item.events.forEach((event: EventOfTr) => item.element.removeEventListener(event.type, event.event));\n  }\n\n  createEventsOfTr(tr: HTMLTableRowElement, item: any): Array<EventOfTr> {\n    const trTapEvent = this.trTap.bind(this, item);\n    const trOverEvent = this.trHover.bind(this, item);\n    const trOutEvent = this.trOut.bind(this, item);\n    tr.addEventListener('tap', trTapEvent);\n    tr.addEventListener('mouseover', trOverEvent);\n    tr.addEventListener('mouseout', trOutEvent);\n    return [{ type: 'mouseover', event: trOverEvent }, { type: 'mouseout', event: trOutEvent }, { type: 'tap', event: trTapEvent }];\n  }\n\n  cleanTrElements() {\n    const splices = this.table.splice(this.data.length);\n\n    splices.forEach((line: TableElement) => {\n      this.cleanEventsOfTr(line);\n      if (line?.element?.parentNode) {\n        line.element.parentNode.removeChild(line.element);\n      }\n    });\n  }\n\n  cleanTdElements(confs: Array<Conf>) {\n    [...this.table].forEach((line) => {\n      const splicedColumns = line.columns.splice(confs.length);\n\n      splicedColumns.forEach((column) => {\n        line.element.removeChild(column);\n      });\n    });\n  }\n\n  updateHeaders(confs: Array<Conf>) {\n    if (this.shadowRoot) {\n      let tr = this.shadowRoot.querySelector<HTMLTableRowElement>('table thead tr');\n      if (!tr) {\n        tr = document.createElement('tr');\n      }\n      if (this.lastConfSize > confs.length) {\n        [...this.headers].forEach((header, i) => {\n          if (i <= (this.lastConfSize - 1)) {\n            if (tr) {\n              tr.removeChild(header);\n            }\n            this.headers.splice(i, 1);\n          }\n        });\n      }\n      confs.forEach((conf: Conf, i: number) => {\n        const p = conf.property;\n        const datatableHeader = this.datatableHeaders.get(p);\n        let th: HTMLTableHeaderCellElement;\n        if (this.headers[i]) {\n          th = this.headers[i];\n        } else {\n          th = document.createElement('th');\n          this.headers.push(th);\n        }\n        th.classList.toggle('sticky', this.stickyHeader);\n        if (datatableHeader && datatableHeader.columnStyle) {\n          th.setAttribute('style', datatableHeader.columnStyle);\n        } else {\n          th.setAttribute('style', '');\n        }\n        if (this.stickyHeader) {\n          th.style.zIndex = `${confs.length - i}`;\n        }\n        if (datatableHeader) {\n          th.dataset.property = p;\n          this.setEventListener(datatableHeader, 0,\n            () => {\n              if (th.dataset.property === datatableHeader.property) {\n                render(datatableHeader.html ? datatableHeader.html(conf.header, datatableHeader.property) : null, th);\n              }\n            });\n          if (datatableHeader.type === 'sort' || datatableHeader.type === 'filterSort') {\n            if (datatableHeader.sortEvent) {\n              datatableHeader.removeEventListener('sort', datatableHeader.sortEvent as EventListener);\n            }\n            datatableHeader.sortEvent = this.dispatchCustomEvent.bind(this, 'sort') as EventListener;\n            datatableHeader.addEventListener('sort', datatableHeader.sortEvent as EventListener);\n          }\n          if (datatableHeader.type === 'filter' || datatableHeader.type === 'filterSort') {\n            if (datatableHeader.filterEvent) {\n              datatableHeader.removeEventListener('filter', datatableHeader.filterEvent as EventListener);\n            }\n            datatableHeader.filterEvent = this.dispatchCustomEvent.bind(this, 'filter') as EventListener;\n            datatableHeader.addEventListener('filter', datatableHeader.filterEvent as EventListener);\n          }\n          if (datatableHeader.type === 'choices') {\n            if (datatableHeader.choicesEvent) {\n              datatableHeader.removeEventListener('choices', datatableHeader.choicesEvent as EventListener);\n            }\n            datatableHeader.choicesEvent = this.dispatchCustomEvent.bind(this, 'choices') as EventListener;\n            datatableHeader.addEventListener('choices', datatableHeader.choicesEvent as EventListener);\n          }\n          if (datatableHeader.type === 'dateSort' || datatableHeader.type === 'dateSortNoRange') {\n            if (datatableHeader.dateSortEvent) {\n              datatableHeader.removeEventListener('dates', datatableHeader.dateSortEvent as EventListener);\n            }\n            datatableHeader.dateSortEvent = this.dispatchCustomEvent.bind(this, 'dates') as EventListener;\n            datatableHeader.addEventListener('dates', datatableHeader.dateSortEvent as EventListener);\n            if (datatableHeader.sortEvent) {\n              datatableHeader.removeEventListener('sort', datatableHeader.sortEvent as EventListener);\n            }\n            datatableHeader.sortEvent = this.dispatchCustomEvent.bind(this, 'sort') as EventListener;\n            datatableHeader.addEventListener('sort', datatableHeader.sortEvent as EventListener);\n          }\n        }\n        if (datatableHeader && datatableHeader.html) {\n          render(datatableHeader.html(conf.header, datatableHeader.property), th);\n        } else {\n          render(conf.header, th);\n        }\n        if (tr) {\n          tr.appendChild(th);\n        }\n      });\n      if (this.shadowRoot) {\n        const thead = this.shadowRoot.querySelector('thead');\n        if (thead) {\n          thead.appendChild(tr);\n        }\n      }\n    }\n  }\n\n  dispatchCustomEvent(key: string, { detail }: CustomEvent): any {\n    this.dispatchEvent(new CustomEvent(key, { detail }));\n  }\n\n  trCreated(tr: HTMLTableRowElement, lineIndex: number, item: any) {\n    this.dispatchEvent(new CustomEvent('tr-create', { detail: { tr, lineIndex, item } }));\n  }\n\n  trTap(item: any) {\n    this.dispatchEvent(new CustomEvent('tap-tr', { detail: item }));\n  }\n\n  trHover(item: any) {\n    this.dispatchEvent(new CustomEvent('tr-mouseover', { detail: item }));\n  }\n\n  trOut(item: any) {\n    this.dispatchEvent(new CustomEvent('tr-mouseout', { detail: item }));\n  }\n\n  createTr(lineIndex: number, item: any) {\n    const tr = this.setKeyToTr(document.createElement('tr'), item);\n    if (!this.table[lineIndex]) {\n      this.table[lineIndex] = { element: tr, columns: [], events: this.createEventsOfTr(tr, item) };\n    }\n    return tr;\n  }\n\n  createTd(lineIndex: number) {\n    const td = document.createElement('td') as HTMLTableCellElement;\n    this.table[lineIndex].columns.push(td);\n    return td;\n  }\n\n  setKeyToTr(tr: HTMLTableRowElement, item: any) {\n    if (this.key && Object.prototype.hasOwnProperty.call(item, this.key)) {\n      const data = this.extractData(item, this.key);\n      tr.classList.add(`key-${data}`);\n    }\n    return tr;\n  }\n\n  updateBody(confs: Array<Conf>) {\n    if (this.data !== undefined) {\n      if (this.lastConfSize > confs.length) {\n        this.cleanTdElements(confs);\n      }\n      if (this.lastDataSize > this.data.length) {\n        this.cleanTrElements();\n      }\n      this.data.forEach((item, lineIndex: number) => {\n        let tr: HTMLTableRowElement;\n        if (this.table[lineIndex]) {\n          this.cleanEventsOfTr(this.table[lineIndex]);\n          tr = this.table[lineIndex].element;\n          tr.className = '';\n          tr = this.setKeyToTr(tr, item);\n          this.table[lineIndex].events = this.createEventsOfTr(tr, item);\n        } else {\n          tr = this.createTr(lineIndex, item);\n        }\n\n        this.trCreated(tr, lineIndex, item);\n\n        confs.forEach((conf, columnIndex) => {\n          let td;\n          if (this.table[lineIndex].columns[columnIndex]) {\n            td = this.table[lineIndex].columns[columnIndex];\n          } else {\n            td = this.createTd(lineIndex);\n          }\n\n          const datatableColumn = this.datatableColumns.get(conf.property);\n          if (datatableColumn && datatableColumn.columnStyle) {\n            td.setAttribute('style', datatableColumn.columnStyle);\n          } else {\n            td.setAttribute('style', '');\n          }\n\n          this.renderHtml(conf, lineIndex, item, td, tr);\n        });\n        if (this.shadowRoot) {\n          const tbody = this.shadowRoot.querySelector('tbody');\n          if (tbody) {\n            tbody.appendChild(tr);\n          }\n        }\n      });\n    }\n  }\n\n  setLoading(loading: boolean) {\n    this.dispatchEvent(new CustomEvent('loading', { detail: { value: loading } }));\n  }\n\n  async generateData() {\n    this.setLoading(true);\n    await this.updateComplete;\n    const confs = [...this.conf].filter((c) => !c.hidden);\n    this.updateBody(confs);\n    if (this.data !== undefined) {\n      this.lastDataSize = this.data.length;\n      this.lastConfSize = confs.length;\n    }\n    this.setLoading(false);\n  }\n\n  extractData(item: any, columnProperty: string) {\n    if (columnProperty) {\n      const splittedProperties = columnProperty.split('.');\n      if (splittedProperties.length > 1) {\n        return splittedProperties.reduce((prevRow: any, p: string) => {\n          if (typeof prevRow === 'string' && item[prevRow] !== undefined && item[prevRow][p] !== undefined) {\n            return item[prevRow][p];\n          }\n\n          return prevRow[p] || '';\n        });\n      }\n      return item[columnProperty];\n    }\n    return null;\n  }\n\n  /**\n    * Scroll to a tr with the key\n    * The key property have to be set\n    *\n   */\n  async scrollOnTr(key: string) {\n    if (this.shadowRoot && key) {\n      await this.updateComplete;\n      const classPrimaryDisplayed = 'is-currently-highlight';\n      this.shadowRoot.querySelectorAll(`.${classPrimaryDisplayed}`).forEach((tr) => {\n        tr.classList.remove(classPrimaryDisplayed);\n      });\n      const trToScroll = this.shadowRoot.querySelector(`tr.key-${key}`);\n      if (trToScroll) {\n        trToScroll.scrollIntoView({ block: 'center', inline: 'nearest' });\n        trToScroll.classList.add(classPrimaryDisplayed);\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'lit-datatable': LitDatatable;\n  }\n}\n"]}