{"version":3,"file":"lit-datatable-footer.js","sourceRoot":"","sources":["lit-datatable-footer.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  LitElement, css, html\n} from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport '@polymer/paper-dropdown-menu/paper-dropdown-menu';\nimport type { PaperDropdownMenuElement } from '@polymer/paper-dropdown-menu/paper-dropdown-menu';\nimport type { PaperListboxElement } from '@polymer/paper-listbox/paper-listbox';\nimport '@polymer/paper-listbox/paper-listbox';\nimport '@polymer/paper-item/paper-item';\nimport '@polymer/paper-icon-button/paper-icon-button';\nimport '@polymer/paper-tooltip/paper-tooltip';\nimport type { Language, Resources } from './localize';\nimport Localize from './localize';\n\nimport { ironFlexLayoutAlignTheme, ironFlexLayoutTheme } from './iron-flex-import';\n\ntype FooterPosition = 'right' | 'left';\n\n@customElement('lit-datatable-footer')\nexport class LitDatatableFooter extends Localize(LitElement) {\n  language: Language | null = 'en';\n\n  resources: Resources | null = {\n    en: {\n      nextPage: 'Next page',\n      previousPage: 'Previous page',\n      linesPerPage: 'Lines per page',\n      of: 'of',\n\n    },\n    'en-en': {\n      nextPage: 'Next page',\n      previousPage: 'Previous page',\n      linesPerPage: 'Lines per page',\n      of: 'of',\n    },\n    'en-US': {\n      nextPage: 'Next page',\n      previousPage: 'Previous page',\n      linesPerPage: 'Lines per page',\n      of: 'of',\n    },\n    'en-us': {\n      nextPage: 'Next page',\n      previousPage: 'Previous page',\n      linesPerPage: 'Lines per page',\n      of: 'of',\n    },\n    fr: {\n      nextPage: 'Page suivante',\n      previousPage: 'Page précédente',\n      linesPerPage: 'Lignes par page',\n      of: 'sur',\n    },\n    'fr-fr': {\n      nextPage: 'Page suivante',\n      previousPage: 'Page précédente',\n      linesPerPage: 'Lignes par page',\n      of: 'sur',\n    },\n  };\n\n  @property({ type: String }) footerPosition: FooterPosition = 'left';\n\n  @property({ type: Number }) size = 0;\n\n  @property({ type: Number }) page = 0;\n\n  @property({ type: Number }) totalElements = 0;\n\n  @property({ type: Number }) totalPages = 0;\n\n  @property({ type: Array }) availableSize: Array<number> = [];\n\n  static get styles() {\n    const mainStyle = css`\n      :host {\n        display: block;\n      }\n\n      .foot {\n        font-size: 12px;\n        font-weight: normal;\n        height: 55px;\n        border-top: 1px solid;\n        border-color: var(--lit-datatable-divider-color, rgba(0, 0, 0, var(--dark-divider-opacity)));\n        padding: 0 14px 0 0;\n        color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n      }\n\n      .foot .left {\n        padding: 0 0 0 14px;\n      }\n\n      .foot paper-icon-button {\n        width: 24px;\n        height: 24px;\n        padding: 0;\n        margin-left: 24px;\n      }\n\n      .foot .status {\n        margin: 0 8px 0 32px;\n      }\n\n      .foot .size {\n        width: 64px;\n        text-align: right;\n      }\n\n      paper-dropdown-menu {\n        color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n      }\n      `;\n    return [mainStyle, ironFlexLayoutAlignTheme, ironFlexLayoutTheme];\n  }\n\n  render() {\n    return html`\n      <style>\n        paper-dropdown-menu {\n          --paper-dropdown-menu: {\n            color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n          --paper-input-container-color: var(--lit-datatable-footer-color);\n          --paper-input-container-input-color: var(--lit-datatable-footer-color);\n          }\n          --paper-dropdown-menu-input: {\n            color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n          }\n          --paper-input-container-input: {\n            color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n          }\n          --paper-listbox-background-color: var(--lit-datatable-footer-background, white);\n          --paper-dropdown-menu-icon: {\n            color: var(--lit-datatable-footer-color, rgba(0, 0, 0, var(--dark-secondary-opacity)));\n          }\n        }\n      </style>\n      <div class=\"layout horizontal center foot ${this.computePosition(this.footerPosition)}\">\n        <div class=\"${this.footerPosition}\">\n          <div class=\"layout horizontal end-justified center\">\n            <div class=\"layout horizontal center\">\n              <div>\n                ${this.localize('linesPerPage')}\n              </div>\n              <div class=\"size\">\n                <paper-dropdown-menu no-label-float vertical-align=\"bottom\">\n                  <paper-listbox attr-for-selected=\"size\" @iron-select=\"${this.newSizeIsSelected}\" selected=\"${this.size}\" slot=\"dropdown-content\">\n                    ${this.availableSize && this.availableSize.map((size) => html`\n                      <paper-item size=\"${size}\">${size}</paper-item>\n                    `)}\n                  </paper-listbox>\n                </paper-dropdown-menu>\n              </div>\n            </div>\n            <div class=\"status\">\n              ${this.computeCurrentSize(this.page, this.size, this.totalElements)}-${this.computeCurrentMaxSize(this.page, this.size, this.totalElements)}\n              ${this.localize('of')}\n              ${this.totalElements}\n            </div>\n            <paper-icon-button id=\"previousPageBtn\" icon=\"chevron-left\" .disabled=\"${this.prevButtonDisabled(this.page)}\" @tap=\"${this.prevPage}\"></paper-icon-button>\n            <paper-tooltip for=\"previousPageBtn\" position=\"top\">${this.localize('previousPage')}</paper-tooltip>\n            <paper-icon-button id=\"nextPageBtn\" icon=\"chevron-right\" .disabled=\"${this.nextButtonDisabled(this.page, this.totalPages)}\" @tap=\"${this.nextPage}\"></paper-icon-button>\n            <paper-tooltip for=\"nextPageBtn\" position=\"top\">${this.localize('nextPage')}</paper-tooltip>\n          </div>\n        </div>\n      </div>\n      `;\n  }\n\n  computeCurrentSize(page: number, size: number, totalElements: number) {\n    if (totalElements) {\n      return (page * size) + 1;\n    }\n    return 0;\n  }\n\n  computeCurrentMaxSize(page: number, size: number, totalElements: number) {\n    const maxSize = size * (page + 1);\n    return maxSize > totalElements ? totalElements : maxSize;\n  }\n\n  launchEvent() {\n    this.dispatchEvent(new CustomEvent('page-or-size-changed', { detail: { page: this.page, size: this.size } }));\n  }\n\n  nextPage() {\n    if (this.page + 1 < this.totalPages) {\n      this.page += 1;\n      this.launchEvent();\n    }\n  }\n\n  prevPage() {\n    if (this.page > 0) {\n      this.page -= 1;\n      this.launchEvent();\n    }\n  }\n\n  nextButtonDisabled(page: number, totalPages: number) {\n    return totalPages === 0 || page + 1 === totalPages;\n  }\n\n  prevButtonDisabled(page: number) {\n    return page === 0;\n  }\n\n  newSizeIsSelected({ currentTarget }: CustomEvent) {\n    const paperListBox = currentTarget as PaperListboxElement;\n    let newSize = paperListBox.selected;\n    if (newSize) {\n      if (typeof newSize === 'string') {\n        newSize = parseInt(newSize, 10);\n      }\n      if (newSize !== this.size) {\n        this.page = 0;\n        this.size = newSize;\n        this.launchEvent();\n      }\n    }\n  }\n\n  computePosition(position: FooterPosition) {\n    if (position === 'right') {\n      return 'end-justified';\n    }\n    return '';\n  }\n\n  async firstUpdated() {\n    await this.updateComplete;\n    if (this.shadowRoot) {\n      const paperDropdownMenu = this.shadowRoot.querySelector<PaperDropdownMenuElement>('paper-dropdown-menu');\n      if (paperDropdownMenu) {\n        paperDropdownMenu.updateStyles({\n          '--paper-input-container-underline_-_display': 'none',\n          '--paper-input-container-shared-input-style_-_font-weight': '500',\n          '--paper-input-container-shared-input-style_-_text-align': 'right',\n          '--paper-input-container-shared-input-style_-_font-size': '12px',\n          '--paper-input-container-shared-input-style_-_color': 'var(--paper-datatable-navigation-bar-text-color, rgba(0, 0, 0, .54))',\n          '--paper-input-container-input-color': 'var(--paper-datatable-navigation-bar-text-color, rgba(0, 0, 0, .54))',\n          '--disabled-text-color': 'var(--paper-datatable-navigation-bar-text-color, rgba(0, 0, 0, .54))',\n        });\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'lit-datatable-footer': LitDatatableFooter;\n  }\n}\n"]}